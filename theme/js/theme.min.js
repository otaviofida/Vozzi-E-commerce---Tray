document.addEventListener("DOMContentLoaded",function(){var e=document.querySelector(".s-home-banner");e&&new Swiper(e,{loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1},pagination:{el:".container .swiper-pagination",clickable:!0}})}),document.querySelectorAll(".s-showcase").forEach(e=>{var t=e.querySelector(".d-showcase"),a=e.querySelector(".swiper-button-next"),e=e.querySelector(".swiper-button-prev");new Swiper(t,{breakpoints:{0:{slidesPerView:1.3},768:{slidesPerView:3}},spaceBetween:24,speed:1300,navigation:{nextEl:a,prevEl:e}})});var slide_categorias=new Swiper(".s-categorias .container",{breakpoints:{0:{slidesPerView:2.4},768:{slidesPerView:5.2}},spaceBetween:24,speed:1300}),slide_bannervitrine=new Swiper(".s-vitrine-banner .container",{breakpoints:{0:{slidesPerView:1},768:{slidesPerView:1}},spaceBetween:24,speed:1300,navigation:{nextEl:".container .nav .swiper-button-next",prevEl:".container .nav .swiper-button-prev"},pagination:{el:".nav .swiper-dots",clickable:!0}}),slide_bannermarcas=new Swiper(".s-banner-marcas .container",{breakpoints:{0:{slidesPerView:2.5},768:{slidesPerView:6}},spaceBetween:24,speed:1300}),swiperThumbs=new Swiper(".mid-product .thumbs",{direction:"vertical",spaceBetween:10,slidesPerView:3,watchSlidesProgress:!0,mousewheel:!0,slideToClickedSlide:!0}),swiperMain=new Swiper(".mid-product .left",{spaceBetween:10,thumbs:{swiper:swiperThumbs}});function toReal(e,t){return t+" "+e.toLocaleString("pt-BR",{minimumFractionDigits:2,maximumFractionDigits:2})}function toBRL(e){return Number(e||0).toLocaleString("pt-BR",{style:"currency",currency:"BRL"})}document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".s-fullbanner");function e(){var e=t.offsetHeight;document.documentElement.style.setProperty("--hero-height",e+"px"),console.log(e)}t&&(e(),window.addEventListener("resize",e))}),document.addEventListener("DOMContentLoaded",function(){let t=document.querySelector(".modal-search");var e,a;t&&(e=t.querySelector(".container"))&&(a=document.querySelectorAll(".search-icon")).length&&(a.forEach(e=>{e.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.classList.add("active")})}),t.addEventListener("click",function(){t.classList.remove("active")}),e.addEventListener("click",function(e){e.stopPropagation()}))});var cart={session:function(){return jQuery("html").attr("data-session")},updateBadge:function(e){var t=jQuery("span[data-cart=amount]");t.length&&(e=Number(e)||0,t.text(e),t.attr("data-amount",String(e)),0<e?t.addClass("is-visible"):t.removeClass("is-visible"))},getFreeShippingThreshold:function(){var e=document.querySelector(".cart-sidebar .free-shipping");return e&&(e=(e=e.getAttribute("data-free-shipping")||"0").toString().replace(/[^\d,.-]/g,"").replace(/\./g,"").replace(",","."),e=parseFloat(e),Number.isFinite(e))?e:0},updateFreeShipping:function(e){var t,a,r,i,n=document.querySelector(".cart-sidebar .free-shipping");n&&(!(t=cart.getFreeShippingThreshold())||t<=0?n.style.display="none":(n.style.display="block",a=n.querySelector(".free-shipping__text"),r=n.querySelector(".free-shipping__remaining"),n=n.querySelector(".free-shipping__bar-fill"),t<=(e=(e=Number(e)||0)<0?0:e)?(a&&(a.innerHTML="<strong>Voc&ecirc; ganhou Frete Gr&aacute;tis</strong>!"),n&&(n.style.width="100%")):(i=t-e,e=Math.max(0,Math.min(100,e/t*100)),r&&(r.textContent=toBRL(i)),a&&(a.innerHTML='Adicione mais <strong class="free-shipping__remaining">'+toBRL(i)+"</strong> e ganhe <strong>Frete Gr&aacute;tis</strong>"),n&&(n.style.width=e.toFixed(2)+"%"))))},removeProduct:function(e){var t=parseInt(jQuery(e).attr("data-id")),a="/"+jQuery(e).attr("data-variant"),r=""!==jQuery(e).attr("data-together")?"/"+jQuery(e).attr("data-together"):"",e=""==jQuery(e).attr("data-add")?"":jQuery(e).attr("data-add");jQuery.ajax({method:"DELETE",url:"/web_api/carts/"+cart.session()+"/"+t+a+r+"?"+jQuery.param({additional_information:e})}).done(function(){cart.listProduct()}).fail(function(){cart.listProduct()})},listProduct:function(){jQuery.ajax({method:"GET",url:"/web_api/cart/"+cart.session(),success:function(e){Array.isArray(e)&&e.length?cart.forProduct(e):cart.forProduct([])},error:function(){cart.forProduct([])}})},total:function(e){jQuery(".cart-sidebar .total .value").text(toReal(parseFloat(e),"R$"))},forProduct:function(e){var d=jQuery(".cart-sidebar .content-cart .list"),u=(d.find("*").remove(),d.parent().removeClass("empty"),console.log("LISTANDO PRODUTOS:",e),0),p=0;e.length?(e.forEach(function(e){var t=(e=e.Cart).additional_information,a="";if(e.product_image&&!(a=e.product_image.https?e.product_image.https:a)&&e.product_image.thumbs){for(var r=e.product_image.thumbs,i=[600,450,300,250,200,180,150,120,100,90],n=0;n<i.length;n++){var o=i[n];if(r[o]&&r[o].https){a=r[o].https;break}}if(!a)for(var s=Object.keys(r),c=0;c<s.length;c++){var l=s[c];if(r[l]&&r[l].https){a=r[l].https;break}}}d.append(cart.templateProduct(e.product_id,e.variant_id,e.product_name,a,e.quantity,e.price,e.product_url.https,t,e.bought_together_id)),u+=parseInt(e.quantity,10),p+=parseFloat(e.price)*parseInt(e.quantity,10)}),cart.total(p),cart.updateBadge(u),cart.updateFreeShipping(p)):(d.append('<div class="error"><div clas="text">Carrinho Vazio</div></div>'),d.parent().addClass("empty"),cart.updateBadge(0),cart.total(0),cart.updateFreeShipping(0))},startCart:function(){jQuery(".cart-toggle").on("click",function(e){e.preventDefault(),cart.showCart()}),jQuery(".shadow-cart, .cart-sidebar .box-prev").on("click",function(){jQuery(".cart-sidebar").removeClass("active"),jQuery(".shadow-cart").removeClass("active")})},showCart:function(){cart.listProduct(),jQuery(".cart-sidebar").addClass("active"),jQuery(".shadow-cart").addClass("active")},templateProduct:function(e,t,a,r,i,n,o,s,c){var l='          <div class="item">            <div class="box-cart flex align-center">              <div class="box-image">                <a href="{url}" class="image">                  <img src="{image}" alt="{name}">                </a>                <div class="remove" data-id="{id}" data-together="{together}" data-variant="{variant}" data-add="{addMsg}" onclick="cart.removeProduct(this)">                  <svg xmlns="http://www.w3.org/2000/svg" width="8" height="9" viewBox="0 0 8 9" fill="none"><path d="M6.97656 1.48438H0.445312C0.327208 1.48438 0.213941 1.53129 0.130429 1.6148C0.0469167 1.69832 0 1.81158 0 1.92969C0 2.04779 0.0469167 2.16106 0.130429 2.24457C0.213941 2.32808 0.327208 2.375 0.445312 2.375H0.59375V7.42188C0.59375 7.61872 0.671944 7.80749 0.811132 7.94668C0.950319 8.08587 1.1391 8.16406 1.33594 8.16406H6.08594C6.28278 8.16406 6.47156 8.08587 6.61074 7.94668C6.74993 7.80749 6.82812 7.61872 6.82812 7.42188V2.375H6.97656C7.09467 2.375 7.20793 2.32808 7.29145 2.24457C7.37496 2.16106 7.42188 2.04779 7.42188 1.92969C7.42188 1.81158 7.37496 1.69832 7.29145 1.6148C7.20793 1.53129 7.09467 1.48438 6.97656 1.48438ZM5.9375 7.27344H1.48438V2.375H5.9375V7.27344ZM1.78125 0.445312C1.78125 0.327208 1.82817 0.213941 1.91168 0.130429C1.99519 0.0469167 2.10846 0 2.22656 0H5.19531C5.31342 0 5.42668 0.0469167 5.5102 0.130429C5.59371 0.213941 5.64062 0.327208 5.64062 0.445312C5.64062 0.563417 5.59371 0.676684 5.5102 0.760196C5.42668 0.843708 5.31342 0.890625 5.19531 0.890625H2.22656C2.10846 0.890625 1.99519 0.843708 1.91168 0.760196C1.82817 0.676684 1.78125 0.563417 1.78125 0.445312Z" fill="#9CA3AF"/></svg>                  <span>Remover</span>                </div>              </div>              <div class="info-product">                <div class="line-top flex justify-between">                  <a href="{url}" class="name t-color">{name}</a>                </div>                <div class="line-down">                  <div class="qnt">Quantidade: {length}</div>                  <div class="price">{price}</div>                </div>              </div>            </div>          </div>        ';return n=toReal(parseFloat(n),"R$"),l=(l=(l=(l=(l=(l=(l=(l=(l=l.replace(/{url}/g,o)).replace(/{image}/g,r)).replace(/{name}/g,a)).replace(/{id}/g,e)).replace(/{variant}/g,t)).replace(/{length}/g,i)).replace(/{addMsg}/g,s)).replace(/{price}/g,n)).replace(/{together}/g,c)}};function addCart(e){var t=$("html").attr("data-session");$.ajax({method:"POST",url:"/web_api/cart/",contentType:"application/json; charset=utf-8",data:'{"Cart":{"session_id":"'+t+'","product_id":"'+e+'","quantity":"1"}}'}).done(function(e){console.log(e);e=parseInt($("span[data-cart=amount]").html());$("span[data-cart=amount]").html(e+1),void 0!==cart&&cart.showCart()}).fail(function(e){console.log(e.responseText)})}jQuery(function(){cart.startCart(),cart.listProduct()}),document.addEventListener("click",function(e){var t,a,r,e=e.target.closest(".js-variant-color");e&&(t=e.dataset.image,r=e.dataset.variantId,a=e.closest(".product-slide"))&&(a.dataset.variantId=r,r=a.querySelector(".img-product"),t&&r&&(r.src=t),a.querySelectorAll(".js-variant-color").forEach(e=>{e.classList.remove("active")}),e.classList.add("active"))}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".list-variants").forEach(e=>{let t=e.getAttribute("data-variants")||"[]",n=(t=t.replace(/&quot;/g,'"'),JSON.parse(t));var a=e.querySelector(".first.option-select");let o=Array.from(e.querySelectorAll(".option-color li"));if(a&&o.length){let r=null,i=null;a.addEventListener("change",function(){(r=this.value)&&s(!0)}),o.forEach(e=>{e.addEventListener("click",function(){r&&c(this)})});e=Array.from(a.options).find(e=>e.value&&"Selecione"!==e.value);function s(e=!0){i=null;let t=n.filter(e=>e.main===r&&0<Number(e.stock)).map(e=>e.color),a=null;o.forEach(e=>{e.classList.remove("active"),t.includes(e.dataset.value)?(e.style.display="flex",a=a||e):e.style.display="none"}),e&&a&&c(a)}function c(e){o.forEach(e=>e.classList.remove("active")),e.classList.add("active"),i=e.dataset.value;e=n.find(e=>e.main===r&&e.color===i&&0<Number(e.stock));if(e&&e.imageProduct){var a=e.imageProduct;if(a){let e=document.querySelector(".js-main-product-image"),t=document.querySelector(".mid-product .thumbs .swiper-slide:first-child img");e&&t&&(e.style.opacity=0,t.style.opacity=0,setTimeout(()=>{e.src=a,t.src=a,void 0!==swiperMain&&(swiperMain.slideTo(0,300),swiperMain.update()),void 0!==swiperThumbs&&(swiperThumbs.slideTo(0,0),swiperThumbs.update()),e.style.opacity=1,t.style.opacity=1},120))}}}e&&(a.value=e.value,r=e.value,s(!0))}})}),document.addEventListener("click",function(e){var t,a,e=e.target.closest(".js-add-cart-variant");e&&(t=e.closest(".product-slide"))&&(e=e.dataset.productId,(t=t.dataset.variantId)?(a=$("html").attr("data-session"),$.ajax({method:"POST",url:"/web_api/cart/",contentType:"application/json; charset=utf-8",data:JSON.stringify({Cart:{session_id:a,product_id:e,variant_id:t,quantity:1}})}).done(function(e){console.log(e);e=parseInt($("span[data-cart=amount]").html());$("span[data-cart=amount]").html(e+1),void 0!==cart&&cart.showCart()}).fail(function(e){console.log(e.responseText)})):alert("Selecione uma cor para comprar."))}),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll(".s-section-highlight .list-variants").forEach(t=>{function c(e){return(e??"").toString().trim()}let a=t.getAttribute("data-id"),l=(e=>{if(!e)return[];e=e.replace(/&quot;/g,'"');try{return JSON.parse(e)}catch(e){return[]}})(t.getAttribute("data-variants")||"[]");var e=t.querySelector(".first.option-select");let d=Array.from(t.querySelectorAll(".option-color li")),r=t.querySelector('input[name="qty"]');var i=t.querySelector(".add-to-cart");let u=t.querySelector(".alert-dont-stock");if(a&&e&&d.length&&i){let n="",o="",s=null;e.addEventListener("change",function(){(n=c(this.value))&&m(!0)}),d.forEach(e=>{e.addEventListener("click",function(){n&&f(this)})}),t.addEventListener("submit",function(e){var t;e.preventDefault(),v(),n?s?(e=parseInt(r?.value||"1",10),e=Number.isFinite(e)&&0<e?e:1,t=jQuery("html").attr("data-session"),0<Number(s.stock)&&Number(s.stock)<e?p("Quantidade indisponível em estoque"):jQuery.ajax({method:"POST",url:"/web_api/cart/",contentType:"application/json; charset=utf-8",data:JSON.stringify({Cart:{session_id:t,product_id:a,variant_id:s.id,quantity:e}})}).done(function(){void 0!==cart&&(cart.listProduct(),cart.showCart())}).fail(function(e){console.log(e.responseText),p("Não foi possível adicionar ao carrinho")})):p("Selecione uma cor."):p("Selecione uma opção.")}),i.addEventListener("click",function(e){e.preventDefault(),t.requestSubmit?t.requestSubmit():t.dispatchEvent(new Event("submit",{cancelable:!0}))});i=Array.from(e.options).find(e=>e.value&&"Selecione"!==e.value);function p(e){var t;u&&(u.style.display="block",t=u.querySelector("p"))&&(t.textContent=e||"Variação indisponível")}function v(){u&&(u.style.display="none")}function m(e=!0){o="",s=null,v();t=c(t=n),r=l.filter(e=>c(e.main)===t&&0<Number(e.stock)).map(e=>c(e.color));let a=Array.from(new Set(r));var t,r;let i=null;d.forEach(e=>{var t=c(e.dataset.value);a.includes(t)?(e.style.display="flex",e.classList.remove("disabled"),i=i||e):(e.style.display="none",e.classList.remove("active"))}),e&&i&&f(i)}function f(e){var t,a,r=c(e.dataset.value);if(r)if(e=e,d.forEach(e=>e.classList.remove("active")),e&&e.classList.add("active"),o=r,s=(t=n,a=o,t=c(t),a=c(a),l.find(e=>c(e.main)===t&&c(e.color)===a&&0<Number(e.stock))||null)){if(v(),s.imageProduct){var i=s.imageProduct;if(i){let e=document.querySelector(".s-section-highlight .js-main-product-image"),t=document.querySelector(".s-section-highlight .thumbs .swiper-slide:first-child img");e&&t&&(e.style.opacity=0,t.style.opacity=0,setTimeout(()=>{e.src=i,t.src=i,void 0!==swiperMain&&(swiperMain.slideTo(0,300),swiperMain.update()),void 0!==swiperThumbs&&(swiperThumbs.slideTo(0,0),swiperThumbs.update()),e.style.opacity=1,t.style.opacity=1},120))}}}else p("Variação indisponível")}i&&(e.value=i.value,n=c(i.value),m(!0))}})});